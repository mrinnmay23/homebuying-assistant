<!DOCTYPE html>
<html>
<head><meta charset="UTF-8"><title>Get Quotes</title></head>
<body>
<h1>Mortgage Quotes</h1>
<a th:href="@{/}">&larr; Home</a>
<form id="form">
    <label>Credit Score: <input id="score" type="number" min="300" max="850"/></label>
    <button>Get Quotes</button>
</form>
<pre id="out"></pre>

<script>
    document.getElementById('form').addEventListener('submit', async e=>{
        e.preventDefault();
        const s = document.getElementById('score').value;
        const res = await fetch('/api/quotes?score='+encodeURIComponent(s));
        const jokes = await res.json();
        document.getElementById('out').textContent = JSON.stringify(jokes, null, 2);
    });
</script>
</body>
</html>
